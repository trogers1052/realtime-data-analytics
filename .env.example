# =============================================================================
# Analytics Service Configuration
# =============================================================================
# Copy this file to .env and fill in the required values
# Required fields are marked with (REQUIRED)

# -----------------------------------------------------------------------------
# Kafka/Redpanda Configuration
# -----------------------------------------------------------------------------
KAFKA_BROKERS=redpanda:9092
KAFKA_CONSUMER_GROUP=analytics-service
KAFKA_INPUT_TOPIC=stock.quotes.realtime
KAFKA_OUTPUT_TOPIC=stock.indicators

# -----------------------------------------------------------------------------
# Trading Platform Database (for storing indicators)
# -----------------------------------------------------------------------------
DB_HOST=postgres
DB_PORT=5432
DB_USER=trader
DB_PASSWORD=your_password_here    # (REQUIRED) - No default, must be set
DB_NAME=trading_platform

# -----------------------------------------------------------------------------
# Market Data Database (for loading historical OHLCV bars)
# -----------------------------------------------------------------------------
MARKET_DATA_DB_HOST=timescale
MARKET_DATA_DB_PORT=5432
MARKET_DATA_DB_USER=ingestor
MARKET_DATA_DB_PASSWORD=your_password_here    # (REQUIRED) - No default, must be set
MARKET_DATA_DB_NAME=stock_db

# -----------------------------------------------------------------------------
# Historical Data Loading
# -----------------------------------------------------------------------------
LOAD_HISTORICAL_DATA=true
HISTORICAL_BARS_LIMIT=500

# -----------------------------------------------------------------------------
# Indicator Calculation Settings
# -----------------------------------------------------------------------------
MIN_BARS_FOR_CALCULATION=200
RSI_PERIOD=14
MACD_FAST=12
MACD_SLOW=26
MACD_SIGNAL=9
SMA_PERIODS=[20,50,200]
BB_PERIOD=20
BB_STD_DEV=2.0
ATR_PERIOD=14

# -----------------------------------------------------------------------------
# Processing Settings
# -----------------------------------------------------------------------------
BATCH_SIZE=100
ENABLE_POSTGRES_STORAGE=true
